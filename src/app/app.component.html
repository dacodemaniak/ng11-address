<app-header></app-header>

<div id="app-cmp-main-div">
    <h1>{{ title }} {{ getYear() }}</h1>
    <ul>
      <ng-container *ngFor="let address of addresses">
        <li
          (click)="showDetail(address)"
          *ngIf="birthDateFilter(address)"
        >
          <span>{{ address.firstName }} {{ address.lastName }}</span>
        </li>
      </ng-container>
    </ul>

    <p>
      {{ filteredItems() }} / {{ addresses.length }} éléments
    </p>

    <p-button label="Ajouter" (click)="add()"></p-button>

    <app-inline-address-detail
      class="big-address-detail"
      [hidden]="isDetailHidden"
      [detail]="displayedAddress"
      (closeMe)="hideDetail($event)"
    ></app-inline-address-detail>

    <app-add-address
    ></app-add-address>

    <!-- Dynamic with Subject -->
    <ng-container *ngIf="(addressList$ | async).length">
      <ul>
        <li *ngFor="let address of addressList$ | async">
          <a [routerLink]="['detail', address.id]">
            {{ address.id }} {{ address.lastName }}
          </a>
        </li>
      </ul>
    </ng-container>

    <!-- Etagère à route -->
    <router-outlet></router-outlet>
</div>
